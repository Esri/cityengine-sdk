<html>

<head>
<title>Material Shape Attribute</title>
<link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content"><!-- HEADER (use only on bookchapters) -->

<table summary="" class="header">
  <tr>
    <td align="left" class="helphead_l"><a href="../toc.html">
    <div class="helplink">&nbsp;</div>
    </a></td>
    <td align="right" class="helphead_r"></td>
  </tr>
</table>

<!-- CONTENT -->

<h1>Material Shape Attributes</h1>

<p class="text">The material shape attributes control the shading, texturing
and export of the shape's geometry. CityEngine supports six texture
channels with a fixed semantic.</p>

<p class="info">All of
these attributes can be changed using the <a href="op_set.html">set</a> shape
operation. You can use the <a href="op_print.html">print</a> operation to output
the value of a certain material attribute, eg. <span class="inlinedcode">print(material.colormap.r)</span>.</p>

<h2>Synopsis</h2>
<table class="twocol">
  <thead>
    <th class="params">Attribute</th>
    <th class="params">Description</th>
  </thead>
  <tr>
    <td><pre class="code2"><a name="name"></a>string material.name</pre></td>
    <td>The name used to reference materials in the exported model files. If this attribute is not set, the material will get the name of the rule which did the last modification.</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="shader"></a>string material.shader</pre></td>
    <td>The shader name used for export (currently supported by <a href="../manual/export/export_formats_rib.html">RIB</a>).</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="color"></a>float material.color.{r|g|b}</pre></td>
    <td>Diffuse color. Individual access to each color component. Default is white. <a href="attr_material_color.html">More details.</a></td>
  </tr>  
  <tr>
    <td><pre class="code2">string material.color.rgb</pre></td>
    <td>Diffuse color. Access to the complete color as hex-formatted string, eg. <span class="inlinedcode">RED = "#ff0000"</span>. <a href="attr_material_color.html">More details.</a></td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="ambient"></a>float material.ambient.{r|g|b}</pre></td>
    <td>Ambient color. Individual access to each color component. Default is black.</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="specular"></a>float material.specular.{r|g|b}</pre></td>
    <td>Specular color. Individual access to each color component. Default is black.</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="opacity"></a>float material.opacity</pre></td>
    <td>Opacity factor. 1 is fully opaque, 0 is fully transparent. Default is 1.</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="reflectivity"></a>float material.reflectivity</pre></td>
    <td>Reflectivity factor. 0 is no reflection, 1 is full reflection (of the Reflection Map set in the <a href="../manual/ui/layer_pan.html">Panorama Settings</a>). Note that reflection depends on the specular color: the default black color means no reflection!</td>
  </tr>  
  <tr>
    <td><pre class="code2"><a name="shininess"></a>float material.shininess</pre></td>
    <td>Phong specular exponent in the range [0, 128].</td>
  </tr>
  <tr>
    <td><pre class="code2"><a name="bumpValue"></a>float material.bumpValue</pre></td>
    <td>Controls the bump scaling factor (if material.bumpmap is set).</td>
  </tr>
  <tr>
    <td>
    	<pre class="code2"><a name="colormap"></a>string material.colormap</pre>
    	<pre class="code2"><a name="bumpmap"></a>string material.bumpmap</pre>
        <pre class="code2"><a name="dirtmap"></a>string material.dirtmap</pre>
        <pre class="code2"><a name="specularmap"></a>string material.specularmap</pre>
        <pre class="code2"><a name="opacitymap"></a>string material.opacitymap</pre>
        <pre class="code2"><a name="normalmap"></a>string material.normalmap</pre>
   </td>
    <td>Texture file paths for the texture channels. <a href="attr_material_map.html">More details.</a></td>
  </tr>  
  <tr>
    <td><pre class="code2">float material.{colormap|...|normalmap}.s{u|v}</pre></td>
    <td>Per-channel texture scaling factors.</td>
  </tr>  
  <tr>
    <td><pre class="code2">float material.{colormap|...|normalmap}.t{u|v}</pre></td>
    <td>Per-channel texture translation factors.</td>
  </tr>  
  <tr>
    <td><pre class="code2">float material.{colormap|...|normalmap}.rw</pre></td>
    <td>Per-channel texture rotation factors. The texture is rotated around the w-axis (w is the cross product of u and v).</td>
  </tr>  
</table>

 <a name="RenderingAndExport"></a><h2>Rendering and Export</h2>
<p>For rendering in the CityEngine preview and for exporting the generated models, the material attributes need to be mapped to the respective format. The following table shows what format implements which feature.</p>


<table class="twocol">
  <thead>
    <th class="params">Feature</th>
    <th class="params">CE Viewport (OpenGL)</th>
    <th class="params">KML/DAE read</th>
    <th class="params">OBJ read</th>
    <th class="params">3DS write</th>
    <th class="params">KML/DAE write</th>
    <th class="params">FBX write</th>
    <th class="params">OBJ write</th>
    <th class="params">RIB write</th>
    <th class="params">VOB write</th>
    <th class="params">FileGDB write</th>
  </thead>
  <tr>
    <td>name</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>
  <tr>
    <td>shader</td>
    <td>-</td><!-- CE -->
    <td>-</td><!-- DAE -->
    <td>-</td><!-- OBJ -->
    <td>-</td><!-- 3DS -->
    <td>-</td><!-- DAE -->
    <td>-</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>-</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>color</td>
    <td>Y (2)</td><!-- CE -->
    <td>Y (1)</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y (1)</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>Y</td><!-- GDB -->
  </tr>  
  <tr>
    <td>ambient</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>-</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>specular</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- ABC -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>opacity</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>reflectivity</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>shininess</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>bumpValue</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>-</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>colormap</td>
    <td>Y (2)</td><!-- CE -->
    <td>Y (1)</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y (1)</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>Y</td><!-- GDB -->
  </tr>  
  <tr>
    <td>bumpmap</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>dirtmap</td>
    <td>Y (2)</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>-</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>specularmap</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>opacitymap</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>Y</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>Y</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>normalmap</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>-</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>-</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>UV offset</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>-</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>UV scale</td>
    <td>Y</td><!-- CE -->
    <td>Y</td><!-- DAE read -->
    <td>Y</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>Y</td><!-- DAE -->
    <td>Y</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>Y</td><!-- RIB -->
    <td>Y</td><!-- VOB -->
    <td>-</td><!-- GDB -->
  </tr>  
  <tr>
    <td>Edges</td>
    <td>Y</td><!-- CE -->
    <td>-</td><!-- DAE read -->
    <td>-</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>-</td><!-- DAE -->
    <td>-</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>-</td><!-- RIB -->
    <td>-</td><!-- VOB -->
    <td>Y</td><!-- GDB -->
  </tr>  
  <tr>
    <td>Vertices</td>
    <td>Y</td><!-- CE -->
    <td>-</td><!-- DAE read -->
    <td>-</td><!-- OBJ read -->
    <td>-</td><!-- 3DS -->
    <td>-</td><!-- DAE -->
    <td>-</td><!-- FBX -->
    <td>-</td><!-- OBJ -->
    <td>-</td><!-- RIB -->
    <td>-</td><!-- VOB -->
    <td>Y</td><!-- GDB -->
  </tr>  
</table>

<h3>Remarks:</h3>
<table>
<tr><td>(1)</td><td>The official COLLADA standard does not support a diffuse solid color and a diffuse texture at the same time.</td></tr>
<tr><td>(2)</td><td>In the CityEngine viewport, the colormap and dirtmap values are multiplied with the (diffuse) color.</td></tr>
</table>



<!--  Sample Code Formatting -->
<h2>Related</h2>
<ul>
  <li><a class="normw" href="op_set.html">set operation</a></li>
  <li><a class="normw" href="op_setupProjection.html">setupProjection operation</a></li>
  <li><a class="normw" href="op_projectUV.html">projectUV operation</a></li>
  <li><a class="normw" href="op_print.html">print operation</a></li>
  <li><a class="normw" href="cga_texturing.html">Texturing: Essential Knowledge</a></li>
</ul>



<h2>Example</h2>

<pre class="code1"> 
attr wallC       = "#FFFFFF"
attr wallTexture = "facade/walls/wall.c.09.tif"
attr dirtTexture = "dirtmaps/dirtmap.16.tif"
...
Wall --> 
    primitiveCube() color(wallC)
    set(material.colormap, wallTexture) projectUV(0)
    set(material.dirtmap, dirtTexture) projectUV(2)
</pre>

<!-- FOOTER -->
<p class="foot">Copyright &copy;2008-2017 Esri R&amp;D Center Zurich. All rights reserved.</p>                  

</div>
</body>
</html>