<html>

<head>
    <title>contextCompare Function</title>
    <link rel="stylesheet" href="../manual_style.css" type="text/css">
</head>

<body>
<div class="content">

<!-- HEADER (use only on bookchapters) -->

<table summary="" class="header">
	<tr>
		<td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
		<td align="right" class="helphead_r"></td>
	</tr>
</table>

<!-- CONTENT -->

<h1>contextCompare function (context query)</h1>
	
<h2>Synopsis</h2>

<p class="code2">float contextCompare(<span class="cga_opparam">target-selector</span>, <span class="cga_opparam">label</span>, <span class="cga_opparam">comparison-selector</span>)</p>

<h2>Parameters</h2>

<ul>
	<li><span class="cga_opparam">target-selector</span> (keyword)<br>
	Target selector for the query:
	<ul>
		<li><span class="codelight">intra</span>: Checks against labeled shapes in the same shape tree (i.e. from the same inital shape).</li>
		<li><span class="codelight">inter</span>: Checks against labeled shapes in other shape trees (i.e. generated by other initial shapes in the neighborhood).</li>
		<li><span class="codelight">all</span>: Checks both <span class="codelight">intra</span> and <span class="codelight">inter</span>.</li>
	</ul>
	</li>
	<li><span class="cga_opparam">label</span> (string)<br>
	The context query is performed only on shapes that match the requested <a href="op_label.html">label</a>. Must not be empty. If the label is empty, 0 is returned.</li>
	
	<li><span class="cga_opparam">comparison-selector</span> (keyword)<br>
	Semantic comparison keyword:
	<ul>
		<li><span class="codelight">world.northernmost</span>: Ranks shapes by their northernmost bounds starting from the northernmost.</li>
		<li><span class="codelight">world.southernmost</span>: Ranks shapes by their southernmost bounds starting from the southernmost.</li>
		<li><span class="codelight">world.easternmost</span>: Ranks shapes by their easternmost bounds starting from the easternmost.</li>
		<li><span class="codelight">world.westernmost</span>: Ranks shapes by their westernmost bounds starting from the westernmost.</li>
		<li><span class="codelight">world.highest</span>: Ranks shapes by their highest bounds starting from the highest.</li>
		<li><span class="codelight">world.lowest</span>: Ranks shapes by their lowest bounds starting from the lowest.</li>
		<li><span class="codelight">area.largest</span>: Ranks shapes by their areas starting from the largest.</li>
		<li><span class="codelight">area.smallest</span>: Ranks shapes by their areas starting from the smallest.</li>
	</ul>
</ul>
		
<h2>Returns</h2>

<p>The rank of the current shape among all shapes that match the given <span class="cga_opparam">label</span>. The comparison is performed wrt. the given <span class="cga_opparam">comparison-selector</span>. Ranks are 0-based, i.e. the first position has rank 0. If several shapes share an equal comparision value, the lowest possible rank is returned. If no shape is found matching the specified <span class="cga_opparam">label</span>, 0 is returned.</p>

<p class="info">A context query that returns the rank of the current shape geometry among other labeled shape geometries according to a specific comparator.</p>

<p class="notes"><a class="normw" href="cga_context.html">Learn more</a> about important characteristics for context queries in conditions and inter context.</p>

<p class="notes">Each <a class="normw" href="op_label.html">label</a> operation does <em>not</em> "label" the current shape but rather creates a new labeled shape that counts as one rank position separately.</p>

<h2>Related</h2>
    
<ul>
	<li><a class="normw" href="cga_context.html">Context queries</a></li>
	<li><a class="normw" href="op_label.html">label operation</a></li>
	<li><a class="normw" href="func_minimumDistance.html">minimumDistance function</a></li>
	<li><a class="normw" href="func_contextCount.html">contextCount function</a></li>
</ul>

<h2>Example</h2>

<table summary="" class="twocol">
<tr>
	<td class="twocol_l"><br>
	<img src="images/contextCompare.png" alt="contextCompare" width="298"></td>
	<td><pre class="code3">
	
Lot --> extrude(rand(10)) label("label") Color

Color -->
    case contextCompare(inter, "label", world.highest) == 0 :
        color(1,0,0)
    case contextCompare(inter, "label", world.lowest) == 0 :
        color(0,1,0)
    else :
        color(0,0,1) 
	</pre>
	<em>This example applies the Lot rule to a set of initial shapes (inter context). Each lot is extruded by a random value and labeled with <span class="codelight">"label"</span>. The highest geometry is colored in red. In the second case statement, all geometries share the lowest ranking, so the remaining geometries are colored in green.</em></td>
</tr>
</table>

<!-- FOOTER -->
<p class="foot">Copyright &copy;2008-2019 Esri R&amp;D Center Zurich. All rights reserved.</p>			  

<!-- END CENTERED CONTENT -->

</div>
</body>
</html>