<html>

<head>
    <title>roofRidge Operation</title>
    <link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content">

<table summary="" class="header">
    <tr>
        <td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
        <td align="right" class="helphead_r"></td>
    </tr>
</table>

<!-- CONTENT -->

<h1>roofRidge operation</h1>

<h2>Syntax</h2>

<p class="code2">roofRidge(<span class="cga_opparam">valueType, value</span>)</p>

<h2>Parameters</h2>
<ul>
	<li><span class="cga_opparam">valueType</span> (selector)
	<table cellspacing="5">
		<tr><td width="50%"><span class="codelight">byAngle, byHeight</span></td><td>Type of roof generation</td></tr>
	</table>
	</li>
	<li><span class="cga_opparam">value</span> (float)<br>Angle or height of the roof-planes as specified by <span class="cga_opparam">valueType</span>.</li>
</ul>

<h2>Description</h2>
	
<p>The <span class="code_std">roofRidge</span> operation builds a roof perpendicular to each face of the current shape's geometry. In contrast to the <a class="normw" href="op_roofHip.html"><span class="code_std">roofHip</span></a> operation and the <a class="normw" href="op_roofGable.html"><span class="code_std">roofGable</span></a> operation only one ridge is constructed. On arbitrary shapes no hips or gables are created but the shape outline becomes part of two angled roof planes.</p>

<p>The ridge is oriented wrt. the x-axis of the scope. Namely, the resulting ridge is parallel to the scope's x-axis projected to the face plane. To orient the ridge align the scope using operations like <a class="normw" href="op_alignScopeToGeometry.html"><span class="code_std">alignScopeToGeometry</span></a>, <a class="normw" href="op_alignScopeToGeometryBBox.html"><span class="code_std">alignScopeToGeometryBBox</span></a> or <a class="normw" href="op_rotateScope.html"><span class="code_std">rotateScope</span></a>.</p>

<p class="notes">The connectivity of the roof mesh is optimized for trim plane generation to cut bricks inserted into the roof planes (see examples below).</p>

<h3>Scope</h3>

<p class="text">The scope orientation is set in the following way:</p> 
<ul>
	<li>x-axis direction is kept as much as possible (old x-axis is projected to the plane of the first face)</li>
	<li>y-axis along the face normal of the first face</li>
	<li>z-axis normal to the two above</li>
</ul>
<p>The scope's sizes are adjusted to tighly fit the extruded geometry.</p>

<h2>Related</h2>
<ul>
    <li><a class="normw" href="op_envelope.html">envelope operation</a></li>
    <li><a class="normw" href="op_extrude.html">extrude operation</a></li>
    <li><a class="normw" href="op_offset.html">offset operation</a></li>
    <li><a class="normw" href="op_roofGable.html">roofGable operation</a></li>
	<li><a class="normw" href="op_roofHip.html">roofHip operation</a></li>
    <li><a class="normw" href="op_roofPyramid.html">roofPyramid operation</a></li>
	<li><a class="normw" href="op_roofShed.html">roofShed operation</a></li>
	<li><a class="normw" href="op_taper.html">taper operation</a></li>	
</ul>

<h2>Examples</h2>

<h3>Scope and trim planes</h3>

<table summary="" class="twocol">
<tr>
<td class="twocol_l"><br/><img src="images/roofRidge_scope.png"></td>
<td style="vertical-align:middle"><pre class="code3">
Lot  --> extrude(10) Mass
Mass --> comp(f) { top : Top | side = Sides. }
Top  --> roofRidge(byAngle, 30) Roof
</pre>
<em>A roof with roof slope 30 degrees is built on top of an extruded lot. Note the setting of the pivot and scope.</em>
</td>
</tr>
<tr>
<td class="twocol_l"><br/><img src="images/roofRidge_tp.png"></td>
<td style="vertical-align:middle"><pre class="code3">
Roof --> set(trim.horizontal, true)
         comp(f) { all : Face. }
</pre>
<em>After a component split, each roof face contains <a class="normw" href="op_comp.html#trimPlanes">trim planes</a> to cut bricks on insertion.</em>
<p class="notes">Note that per default there are no horizontal trim planes at the ridges. To enable them, <span class="code">set(trim.horizontal, true)</span> is used in front of the component split (<a class="normw" href="attr_trim.html">details</a>).</p> 
</td>
</tr>
</table>

<h3>Ridge orientation</h3>

<table summary="" class="twocol">
<tr>
<td class="twocol_l"><br/><img src="images/roofRidge_along.png"></td>
<td style="vertical-align:middle"><pre class="code3">
Lot  --> extrude(10) Mass
Mass --> comp(f) { top : Top | side = Sides. }
Top  --> alignScopeToGeometryBBox(xy)
         roofRidge(byAngle, 30)
</pre>
<em>The scope is aligned to the <span class="codelight">top</span> face using <a class="normw" href="op_alignScopeToGeometryBBox.html"><span class="code_std">alignScopeToGeometryBBox</span></a> with the <span class="codelight">xy</span> selector. As a result the x-axis of the scope is the longer extent of the minimum area bounding rectangle. The resulting ridge is oriented "along" the shape.</em>
</td>
</tr>
<tr>
<td class="twocol_l"><br/><img src="images/roofRidge_across.png"></td>
<td style="vertical-align:middle"><pre class="code3">
Top  --> alignScopeToGeometryBBox(yx)
         roofRidge(byAngle, 30)
</pre>
<em>Using a different selector <span class="codelight">yx</span> will align the scope such that the scope x-axis is the shorter extent. The resulting ridge is oriented "across" the shape.</em>
</td>
</tr>
<tr>
<td class="twocol_l"><br/><img src="images/roofRidge_rotated.png"></td>
<td style="vertical-align:middle"><pre class="code3">
Top  --> alignScopeToGeometryBBox(xy)
         rotateScope(0, 0, 45)
         roofRidge(byAngle, 30)
</pre>
<em>The scope is rotated by 45 degress. The resulting ridge is oriented "diagonally" to the shape.</em>
</td>
</tr>
</table>

<!-- FOOTER -->
<p class="foot">Copyright &copy;2008-2022 Esri R&amp;D Center Zurich. All rights reserved.</p>                  

</div>
</body>
</html>