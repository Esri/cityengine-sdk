<html>

<head>
    <title>roofPyramid Operation</title>
    <link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content">

<table summary="" class="header">
    <tr>
        <td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
        <td align="right" class="helphead_r"></td>
    </tr>
</table>

<!-- CONTENT -->

<h1>roofPyramid operation</h1>

<h2>Syntax</h2>

<p class="code2">roofPyramid(<span class="cga_opparam">angle</span>)</p>
<p class="code2">roofPyramid(<span class="cga_opparam">valueType, value</span>)</p>

<h2>Parameters</h2>
<ul>
	<li><span class="cga_opparam">valueType</span> (selector)
	<table cellspacing="5">
		<tr><td width="50%"><span class="codelight">byAngle, byHeight</span></td><td>Type of roof generation</td></tr>
	</table>
	</li>
	<li><span class="cga_opparam">value</span> (float)<br>Angle or height of the roof-planes as specified by <span class="cga_opparam">valueType</span>.</li>
    <li><span class="cga_opparam">angle</span> (float)<br>Angle of the roof-planes (generation <span class="codelight">byAngle).</li>
</ul>

<h2>Description</h2>
    
<p>The roofPyramid operation builds a pyramid roof perpendicular to each face of the current shape's geometry. The polygon center (average of all vertices) gets extruded along the face normal by the given height and connected to all polygon vertices. The new triangles are the roof faces. If an angle is given the height is chosen such that the angle between roof triangle 1 and the polygon is as specified.</p>

<p class="notes">The connectivity of the roof mesh is optimized for trim plane generation to cut bricks inserted into the roof planes (see examples below).</p>

<h3>Scope</h3>

<p class="text">The scope orientation is set in the following way:</p> 
<ul>
	<li>x-axis direction is kept as much as possible (old x-axis is projected to the plane of the first face)</li>
	<li>y-axis along the face normal of the first face</li>
	<li>z-axis normal to the two above</li>
</ul>
<p>The scope's sizes are adjusted to tighly fit the extruded geometry.</p>

<h2>Related</h2>
<ul>
    <li><a class="normw" href="op_envelope.html">envelope operation</a> </li>
    <li><a class="normw" href="op_extrude.html"> extrude operation</a></li>
    <li><a class="normw" href="op_offset.html"> offset operation</a></li>
    <li><a class="normw" href="op_roofGable.html"> roofGable operation</a></li>
    <li><a class="normw" href="op_roofHip.html"> roofHip operation</a></li>
	<li><a class="normw" href="op_roofRidge.html">roofRidge operation</a></li>
    <li><a class="normw" href="op_roofShed.html"> roofShed operation</a></li>
    <li><a class="normw" href="op_taper.html"> taper operation</a></li> 
</ul>

<h2>Examples</h2>

<h3>Simple Pyramid Roof</h3>

A basic pyramid roof is generated on top of an extruded L-lot.<table summary="" class="twocol">
<tr>
<td class="twocol_l"><br />
        
<p class="piccentered"><img src="images/roofPyramid_pentagon.png"></p>
                
<td style="vertical-align:middle">

<pre class="code3">
Lot  --> extrude(10) Mass
Mass --> comp(f) { top: Top | all: X }
Top  --> roofPyramid(30) Roof
</pre>
 
<em>A pyramid roof with roof slope 30 degrees is built on top of an extruded lot. 
Note the setting of the pivot and scope. </em>

</td>

</tr>

<tr>
<td class="twocol_l"><br />
        
<p class="piccentered"><img src="images/roofPyramid_pentagon_tp.png"></p>
        
<td style="vertical-align:middle">
        
<pre class="code3">
Roof --> comp(f) { all : X }
</pre>
  
<em>After a component split, each roof face contains <a class="normw" href="op_comp.html#trimPlanes">trim planes</a> to cut bricks on insertion.</em>
 

</td>

</tr>

</table>

<p class="info"> There is exactly one roof face per<span class="code">Top</span> shape edge.</p> 


<!-- FOOTER -->
<p class="foot">Copyright &copy;2008-2021 Esri R&amp;D Center Zurich. All rights reserved.</p>                  

</div>
</body>
</html>