<html>

<head>
	<title>resetGeometry Operation</title>
	<link rel="stylesheet" href="../manual_style.css" type="text/css" />
</head>

<body>
<div class="content">

<table summary="" class="header">
	<tr>
		<td align="left" class="helphead_l"><a href="../toc.html"><div class="helplink">&nbsp;</div></a></td>
		<td align="right" class="helphead_r"></td>
	</tr>
</table>

<h1>resetGeometry operation</h1>

<h2>Syntax</h2>

<p class="code2"><span class="cga_op">resetGeometry()</span></p>

<h2>Description</h2>

<p>Resets the geometry to the initial shape's state. Further,</p>
<ul>
	<li>trim planes are <em>removed</em>,</li>
	<li>shape attributes remain <em>unchanged</em>, but <a class="normw" href="attr_scope.html">scope</a> and <a class="normw" href="attr_pivot.html">pivot</a> are <em>reset</em> to the initial shape's state,</li>
	<li>generic attributes, which are declared as rule attributes, remain <em>unchanged</em> (see <a href="https://doc.arcgis.com/en/cityengine/latest/help/help-rules-attributes.htm" target="_blank">CGA attributes</a>),</li>
	<li>projection matrices remain <em>unchanged</em>.</li>
</ul>

<h2>Related</h2>
<ul>
    <li><a class="normw" href="op_i.html">i operation</a></li>
	<li><a class="normw" href="op_comp.html">comp operation</a></li>
	<li><a class="normw" href="op_trim.html">trim operation</a></li>
	<li><a class="normw" href="op_setupProjection.html">setupProjection operation</a></li>
	<li><a class="normw" href="op_set.html">set operation</a></li>
	<li><a class="normw" href="attr_scope.html">scope attribute</a></li>
	<li><a class="normw" href="attr_pivot.html">pivot attribute</a></li>
</ul>

<h2>Examples</h2>

<h3>Recursive setbacks</h3>

<table summary="" class="twocol">
<tr>
	<td class="twocol_l"><img src="images/resetGeometry-setback.png" alt="resetGeometry-setback"/></td>
	<td><pre class="code3">
const maxGFA      = 5000
const floorHeight = 10
	
Example -->
    color("#FFAA00")
    SetBackRec(0, 0)

SetBackRec(sumGFA, iFloor) -->
    resetGeometry()
    setback(iFloor*3) {
        all : NIL |
        remainder : Floor(sumGFA + geometry.area, iFloor)
    }

Floor(sumGFA, iFloor) -->
    CreateFloor(sumGFA, iFloor)
    SetBackRec(sumGFA, iFloor + 1)
    
CreateFloor(sumGFA, iFloor) -->
    set(material.opacity,
        case sumGFA > maxGFA : 0.1 else : 1) 
    t(0, iFloor*floorHeight, 0)
    extrude(floorHeight)
	</pre>
	<em>Setbacks are applied recursively in order to create a sum of floor areas (gross floor area). Each setback shall be applied wrt. the initial shape. Therefore, the geometry is reset before the setback is applied. Note how shape attributes (here the color) are not changed.</em>
	</td>
</tr>
</table>

<p class="foot">Copyright &copy;2008-2021 Esri R&amp;D Center Zurich. All rights reserved.</p>				  

</div>
</body>
</html>